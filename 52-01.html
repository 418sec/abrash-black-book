<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="vsisbn" content="1576101746" />
  <meta name="vstitle" content="Michael Abrash's Graphics Programming Black Book, Special Edition" />
  <meta name="vsauthor" content="Michael Abrash" />
  <meta name="vspublisher" content="The Coriolis Group" />
  <meta name="vspubdate" content="07/01/97" />
  <meta name="vscategory" content="Web and Software Development: Game Development,Web and Software Development: Graphics and Multimedia Development" />

  <title>Michael Abrash's Graphics Programming Black Book Special Edition: Fast 3-D Animation: Meet X-Sharp</title><!-- HEADER -->
  <!-- Empty Reference Subhead -->
  <!--ISBN=1576101746//-->
  <!--TITLE=Michael Abrash's Graphics Programming Black Book Special Edition//-->
  <!--AUTHOR=Michael Abrash//-->
  <!--PUBLISHER=The Coriolis Group, Inc.//-->
  <!--CHAPTER=52//-->
  <!--PAGES=969-972//-->
  <!--UNASSIGNED1//-->
  <!--UNASSIGNED2//-->
</head>

<body>
  <center>
    <table border="1">
      <tr>
        <td><a href="51-06.html">Previous</a></td>

        <td><a href="index.html">Table of Contents</a></td>

        <td><a href="52-02.html">Next</a></td>
      </tr>
    </table>
  </center>

  <p><br /></p>

  <h2><a id="Heading1"></a>Chapter 52<br />
  Fast 3-D Animation: Meet X-Sharp</h2>

  <h3><a id="Heading2"></a>The First Iteration of a Generalized 3-D Animation Package</h3>

  <p>Across the lake from Vermont, a few miles into upstate New York, the Ausable River has carved out a fairly impressive gorge known as &ldquo;Ausable Chasm.&rdquo; Impressive for the East, anyway; you might think of it as the poor man&rsquo;s Grand Canyon. Some time back, I did the tour with my wife and five-year-old, and it was fun, although I confess that I didn&rsquo;t loosen my grip on my daughter&rsquo;s hand until we were on the bus and headed for home; that gorge is deep, and the railings tend to be of the single-bar, rusted-out variety.</p>

  <p>New Yorkers can drive straight to this wonder of nature, but Vermonters must take their cars across on the ferry; the alternative is driving three hours around the south end of Lake Champlain. No problem; the ferry ride is an hour well spent on a beautiful lake. Or, rather, no problem&mdash;once you&rsquo;re on the ferry. Getting to New York is easy, but, as we found out, the line of cars waiting to come back from Ausable Chasm gets lengthy about mid-afternoon. The ferry can hold only so many cars, and we wound up spending an unexpected hour exploring the wonders of the ferry docks. Not a big deal, with a good-natured kid and an entertaining mom; we got ice cream, explored the beach, looked through binoculars, and told stories. It was a fun break, actually, and before we knew it, the ferry was steaming back to pick us up.</p>

  <p>A friend of mine, an elementary-school teacher, helped take 65 sixth graders to Ausable Chasm. Never mind the potential for trouble with 65 kids loose on a ferry. Never mind what it was like trying to herd that group around a gorge that looks like it was designed to swallow children and small animals without a trace. The hard part was getting back to the docks and finding they&rsquo;d have to wait an hour for the next ferry. As my friend put it, &ldquo;Let me tell you, an hour is an eternity with 65 sixth graders screaming the song &lsquo;You Are My Sunshine.&rsquo;&rdquo;</p>

  <p>Apart from reminding you how lucky you are to be working in a quiet, air-conditioned room, in front of a gently humming computer, free to think deep thoughts and eat Cheetos to your heart&rsquo;s content, this story provides a useful perspective on the malleable nature of time. An hour isn&rsquo;t just an hour&mdash;it can be forever, or it can be the wink of an eye. Just think of the last hour you spent working under a deadline; I bet it went past in a flash. Which is not to say, mind you, that I recommend working in a bus full of screaming kids in order to make time pass more slowly; there are quality issues here as well.</p>

  <p>In our 3-D animation work so far, we&rsquo;ve used floating-point arithmetic. Floating-point arithmetic&mdash;even with a floating-point processor but especially <i>without</i> one&mdash;is the microcomputer animation equivalent of working in a school bus: It takes forever to do anything, and you just <i>know</i> you&rsquo;re never going to accomplish as much as you want to. In this chapter, we&rsquo;ll address fixed-point arithmetic, which will give us an instant order-of-magnitude performance boost. We&rsquo;ll also give our 3-D animation code a much more powerful and extensible framework, making it easy to add new and different sorts of objects. Taken together, these alterations will let us start to do some really interesting real-time animation.</p>

  <h3><a id="Heading3"></a>This Chapter&rsquo;s Demo Program</h3>

  <p>Three-dimensional animation is a complicated business, and it takes an astonishing amount of functionality just to get off the launching pad: page flipping, polygon filling, clipping, transformations, list management, and so forth. I&rsquo;ve been building toward a critical mass of animation functionality over the course of this book, and this chapter&rsquo;s code builds on the code from no fewer than five previous chapters. The code that&rsquo;s required in order to link this chapter&rsquo;s animation demo program is the following:</p>

  <ul>
    <li>Listing 50.1 from Chapter 50 (draw clipped line list);</li>

    <li>Listings 47.1 and 47.6 from Chapter 47 (Mode X mode set, rectangle fill);</li>

    <li>Listing 49.6 from Chapter 49;</li>

    <li>Listing 39.4 from Chapter 39 (polygon edge scan); and</li>

    <li>The <b>FillConvexPolygon( )</b> function from Listing 38.1 from Chapter 38. Note that the <b>struct</b> keywords in <b>FillConvexPolygon( )</b> must be removed to reflect the switch to typedefs in the animation header file.</li>
  </ul>

  <p>As always, all required files are in this chapter&rsquo;s subdirectory on the CD-ROM.</p>

  <p><br /></p>

  <center>
    <table border="1">
      <tr>
        <td><a href="51-06.html">Previous</a></td>

        <td><a href="index.html">Table of Contents</a></td>

        <td><a href="52-02.html">Next</a></td>
      </tr>
    </table>
  </center>
  <hr width="90%" size="1" noshade="noshade" />

  <div align="center">
    Graphics Programming Black Book &copy; 2001 Michael Abrash
  </div><!-- all of the reference materials (books) have the footer and subfoot reveresed -->
  <!-- reference_subfoot = footer -->
  <!-- reference_footer = subfoot -->
  <!-- BEGIN SUB FOOTER -->
  <!-- END FOOTER -->
</body>
</html>
